# vim: set ft=sh:

### Exports

export PS1="\[\e[1;34m[\]\\u@\\h \\W]\\$\[\e[0m\] "

export PATH="$PATH:/bin:/usr/bin:/usr/local/bin:$HOME/code/go/bin/"

export EDITOR="vim"

export GOPATH="$HOME/code/go/"

export LESSOPEN="| /usr/bin/source-highlight-esc.sh %s"
export LESS='-R '

### Aliases

alias du="du -h"
alias df="df -h"

alias ll="ls --color=auto -Fhal"

alias mv="mv -v"
alias cp="cp -v"
alias rm="rm -v"

alias chmod="chmod -v"
alias chown="chown -v"

alias cu="cp -u"

alias gdb="gdb -q"

alias sqlite3="sqlite3 -column -header"

### Functions

die () {
	echo $2
	exit $1
}

edsh () {
	if [ ! -e $1 ]
	then
		echo "#!/bin/sh" > $1 && chmod u+x $1 && $EDITOR $1
	else
		$EDITOR $1
	fi
}

cl () {
	cd $1 && ls
}

mc () {
	mv ${@#$1} $1 && cd $1
}

mkcd () {
	mkdir $1 && cd $1
}

cpe () {
	cp $1 $2 && $EDITOR $2
}

append () {
	cat ->> $1
}

sprunge () {
	# TODO: only add parameters if they're set
	url="$(curl -F 'sprunge=<-' http://sprunge.us | tr -d '\n')"
	echo $url?$1#n-$2
}

bukit () {
	curl -X POST --data-binary @- http://p.offblast.org/new | tr -d '\n'
}

world () {
	printf "Brisbane: %s\nLondon: %s\nLos Angeles: %s\nNew York: %s\n" \
		"$(TZ="Australia/Brisbane" date)" \
		"$(TZ="Europe/London" date)" \
		"$(TZ="America/Los_Angeles" date)" \
		"$(TZ="America/New_York" date)"
}

man() {
    env LESS_TERMCAP_mb=$'\E[01;31m' \
    LESS_TERMCAP_md=$'\E[01;38;5;74m' \
    LESS_TERMCAP_me=$'\E[0m' \
    LESS_TERMCAP_se=$'\E[0m' \
    LESS_TERMCAP_so=$'\E[38;5;246m' \
    LESS_TERMCAP_ue=$'\E[0m' \
    LESS_TERMCAP_us=$'\E[04;38;5;146m' \
    man "$@"
}

